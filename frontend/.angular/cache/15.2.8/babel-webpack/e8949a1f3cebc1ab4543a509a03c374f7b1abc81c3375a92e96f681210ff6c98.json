{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/catgeory.service\";\nimport * as i3 from \"../../services/article.service\";\nexport class EditArticleComponent {\n  constructor(fb, srvc, asrvc) {\n    this.fb = fb;\n    this.srvc = srvc;\n    this.asrvc = asrvc;\n    this.msg = \"\";\n    this.editorConfig = {\n      editable: true,\n      spellcheck: true,\n      height: '150px',\n      minHeight: '0',\n      maxHeight: 'auto',\n      width: 'auto',\n      minWidth: '0',\n      translate: 'yes',\n      enableToolbar: true,\n      showToolbar: true,\n      placeholder: 'Enter text here...',\n      defaultParagraphSeparator: '',\n      defaultFontName: 'Calibri',\n      defaultFontSize: '2',\n      fonts: [{\n        class: 'arial',\n        name: 'Arial'\n      }, {\n        class: 'times-new-roman',\n        name: 'Times New Roman'\n      }, {\n        class: 'calibri',\n        name: 'Calibri'\n      }, {\n        class: 'comic-sans-ms',\n        name: 'Comic Sans MS'\n      }],\n      toolbarPosition: 'top',\n      toolbarHiddenButtons: [[], ['customClasses', 'link', 'unlink', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\n    };\n    this.articleForm = this.fb.group({\n      title: ['', [Validators.required]],\n      image: [''],\n      content: ['', [Validators.required]],\n      category: ['', [Validators.required]]\n    });\n    this.srvc.getCategory().subscribe(result => {\n      this.data = result;\n    });\n  }\n  onSubmit() {\n    this.asrvc.saveArticle(this.articleForm.value.title, this.articleForm.value.content, this.articleForm.value.category, this.articleForm.value.image).subscribe(result => {\n      this.msg = result.response;\n      if (result.st == 1) {\n        this.articleForm.reset();\n      }\n    });\n  }\n  onFileSelect(event) {\n    console.log(event.target.files);\n    const file = event.target.files?.[0];\n    this.articleForm.patchValue({\n      image: file\n    });\n    this.articleForm.get('image')?.updateValueAndValidity();\n  }\n}\nEditArticleComponent.ɵfac = function EditArticleComponent_Factory(t) {\n  return new (t || EditArticleComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CatgeoryService), i0.ɵɵdirectiveInject(i3.ArticleService));\n};\nEditArticleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditArticleComponent,\n  selectors: [[\"app-edit-article\"]],\n  decls: 2,\n  vars: 0,\n  template: function EditArticleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"edit-article works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","EditArticleComponent","constructor","fb","srvc","asrvc","editable","spellcheck","height","minHeight","maxHeight","width","minWidth","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","fonts","class","name","toolbarPosition","toolbarHiddenButtons","articleForm","group","title","required","image","content","category","getCategory","subscribe","result","data","onSubmit","saveArticle","value","msg","response","st","reset","onFileSelect","event","console","log","target","files","file","patchValue","get","updateValueAndValidity","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["D:\\fullstack\\finalproject\\frontend\\src\\app\\user\\edit-article\\edit-article.component.ts","D:\\fullstack\\finalproject\\frontend\\src\\app\\user\\edit-article\\edit-article.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport{CatgeoryService} from '../../services/catgeory.service'\nimport{ArticleService} from '../../services/article.service'\nimport { FormGroup, FormControl,FormBuilder,Validators } from '@angular/forms';\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\n\n@Component({\n  selector: 'app-edit-article',\n  templateUrl: './edit-article.component.html',\n  styleUrls: ['./edit-article.component.css']\n})\nexport class EditArticleComponent {\ndata:any;\n\nmsg=\"\"\narticleForm:FormGroup;\n\neditorConfig: AngularEditorConfig = {\n    editable: true,\n      spellcheck: true,\n      height: '150px',\n      minHeight: '0',\n      maxHeight: 'auto',\n      width: 'auto',\n      minWidth: '0',\n      translate: 'yes',\n      enableToolbar: true,\n      showToolbar: true,\n      placeholder: 'Enter text here...',\n      defaultParagraphSeparator: '',\n      defaultFontName: 'Calibri',\n      defaultFontSize: '2',\n      fonts: [\n        {class: 'arial', name: 'Arial'},\n        {class: 'times-new-roman', name: 'Times New Roman'},\n        {class: 'calibri', name: 'Calibri'},\n        {class: 'comic-sans-ms', name: 'Comic Sans MS'}\n      ],\n      \n    toolbarPosition: 'top',\n    toolbarHiddenButtons: [\n      [],\n      [    'customClasses',\n    'link',\n    'unlink',\n    'insertImage',\n    'insertVideo',\n    'insertHorizontalRule',\n]\n    ]\n};\n\n\n\n\nconstructor(private fb: FormBuilder,private srvc:CatgeoryService,private asrvc:ArticleService) { \n\nthis.articleForm = this.fb.group({\n  title: ['', [Validators.required]],\n  image: [''],\n  content: ['', [Validators.required]],\n  category: ['', [Validators.required]],\n});\n\n\nthis.srvc.getCategory().subscribe(result=>{this.data=result})\n}\n\n\nonSubmit() {\nthis.asrvc.saveArticle(this.articleForm.value.title,this.articleForm.value.content,this.articleForm.value.category,\n  this.articleForm.value.image).subscribe(result=>{\nthis.msg=result.response;\nif(result.st==1)\n{\n  this.articleForm.reset();\n}\n})\n\n\n\n} \n\nonFileSelect(event:any){\n    console.log((event.target as HTMLInputElement).files)\n    const file = (event.target as HTMLInputElement).files?.[0];\n    this.articleForm.patchValue({image:file });\n    this.articleForm.get('image')?.updateValueAndValidity()\n  }\n\n}\n","<p>edit-article works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}