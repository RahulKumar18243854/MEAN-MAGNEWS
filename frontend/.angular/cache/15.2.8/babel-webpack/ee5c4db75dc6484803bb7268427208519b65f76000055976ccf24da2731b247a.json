{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/article.service\";\nimport * as i2 from \"@angular/common\";\nfunction ArticlesComponent_tr_20_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_tr_20_td_14_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const d_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.update(d_r1._id, \"Publish\"));\n    });\n    i0.ɵɵtext(2, \"Publish\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ArticlesComponent_tr_20_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_tr_20_td_15_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const d_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.update(d_r1._id, \"Saved\"));\n    });\n    i0.ɵɵtext(2, \"Un-Publish\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ArticlesComponent_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, ArticlesComponent_tr_20_td_14_Template, 3, 0, \"td\", 6);\n    i0.ɵɵtemplate(15, ArticlesComponent_tr_20_td_15_Template, 3, 0, \"td\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", d_r1.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", d_r1.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", d_r1.content, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r1.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r1.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 8, d_r1.date), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", d_r1.status != \"Publish\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", d_r1.status == \"Publish\");\n  }\n}\nexport class ArticlesComponent {\n  constructor(srvc) {\n    this.srvc = srvc;\n    this.dmsg = \"\";\n    this.srvc.getArticles().subscribe(result => {\n      this.data = result;\n    });\n  }\n  update(id, s) {\n    this.srvc.updateStatus(id, {\n      status: s\n    }).subscribe(result => {\n      this.dmsg = result.response;\n      if (result.st == 1) this.srvc.getArticles().subscribe(result => {\n        this.data = result;\n      });\n    });\n  }\n}\nArticlesComponent.ɵfac = function ArticlesComponent_Factory(t) {\n  return new (t || ArticlesComponent)(i0.ɵɵdirectiveInject(i1.ArticleService));\n};\nArticlesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ArticlesComponent,\n  selectors: [[\"app-articles\"]],\n  decls: 21,\n  vars: 1,\n  consts: [[1, \"container\", \"pt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-10\"], [1, \"table\", \"table-bordered\", \"table-striped\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [\"height\", \"100px\", \"width\", \"100px\", 3, \"src\"], [4, \"ngIf\"], [1, \"btn\", \"btn-success\", \"bg-success\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-delete\", \"bg-delete\", \"btn-sm\", 3, \"click\"]],\n  template: function ArticlesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\");\n      i0.ɵɵtext(4, \" Articles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"hr\");\n      i0.ɵɵelementStart(6, \"table\", 3)(7, \"tr\")(8, \"th\");\n      i0.ɵɵtext(9, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Action\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(20, ArticlesComponent_tr_20_Template, 16, 10, \"tr\", 4);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAcMA,0BAAgC;IACmBA;MAAAA;MAAA;MAAA;MAAA,OAASA,uCAAa,SAAS,CAAC;IAAA,EAAC;IAACA,uBAAO;IAAAA,iBAAS;;;;;;IAErGA,0BAAgC;IACiBA;MAAAA;MAAA;MAAA;MAAA,OAASA,uCAAa,OAAO,CAAC;IAAA,EAAC;IAACA,0BAAU;IAAAA,iBAAS;;;;;IAVrGA,0BAA2B;IACrBA,yBAAkD;IAAAA,iBAAK;IAC7DA,0BAAI;IAAAA,YAAY;IAAAA,qBAAI;IAACA,YAAa;IAAAA,iBAAK;IACtCA,0BAAI;IAAAA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,aAAY;IAAAA,iBAAK;IACrBA,2BAAI;IAACA,aAAiB;;IAAAA,iBAAK;IAC3BA,wEAC0G;IAE1GA,wEACyG;IAEzGA,iBAAK;;;;IAXKA,eAAe;IAAfA,kDAAe;IACtBA,eAAY;IAAZA,0CAAY;IAAKA,eAAa;IAAbA,4CAAa;IAC7BA,eAAc;IAAdA,mCAAc;IACdA,eAAY;IAAZA,iCAAY;IACXA,eAAiB;IAAjBA,gEAAiB;IACjBA,eAAyB;IAAzBA,+CAAyB;IAGzBA,eAAyB;IAAzBA,+CAAyB;;;ACPpC,OAAM,MAAOC,iBAAiB;EAG9BC,YAAoBC,IAAmB;IAAnB,SAAI,GAAJA,IAAI;IAFxB,SAAI,GAAC,EAAE;IAIP,IAAI,CAACA,IAAI,CAACC,WAAW,EAAE,CAACC,SAAS,CAACC,MAAM,IAAE;MAAC,IAAI,CAACC,IAAI,GAACD,MAAM;IAAA,CAAC,CAAC;EAE7D;EAGAE,MAAM,CAACC,EAAS,EAACC,CAAQ;IACvB,IAAI,CAACP,IAAI,CAACQ,YAAY,CAACF,EAAE,EAAC;MAACG,MAAM,EAACF;IAAC,CAAC,CAAC,CAACL,SAAS,CAACC,MAAM,IAAE;MACtD,IAAI,CAACO,IAAI,GAACP,MAAM,CAACQ,QAAQ;MACzB,IAAGR,MAAM,CAACS,EAAE,IAAE,CAAC,EACf,IAAI,CAACZ,IAAI,CAACC,WAAW,EAAE,CAACC,SAAS,CAACC,MAAM,IAAE;QAAC,IAAI,CAACC,IAAI,GAACD,MAAM;MAAA,CAAC,CAAC;IAE/D,CAAC,CAAC;EACJ;;AAjBaL,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV9BpB,8BAA4B;MAGnBA,yBAAQ;MAAAA,iBAAK;MAAAA,qBAAI;MAEtBA,gCAA8D;MACrDA,qBAAK;MAAAA,iBAAK;MAAAA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MAAAA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MAChDA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAAAA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MAAAA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAC5CA,oEAYM;MACPA,iBAAQ;;;MAbWA,gBAAO;MAAPA,kCAAO","names":["i0","ArticlesComponent","constructor","srvc","getArticles","subscribe","result","data","update","id","s","updateStatus","status","dmsg","response","st","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\fullstack\\finalproject\\frontend\\src\\app\\admin\\articles\\articles.component.html","D:\\fullstack\\finalproject\\frontend\\src\\app\\admin\\articles\\articles.component.ts"],"sourcesContent":["<div class=\"container pt-5\">\n\t<div class=\"row justify-content-center\">\n\t\t<div class=\"col-10\">\n\t\t\t\t<h3> Articles</h3><hr>\n\n\t\t\t\t<table class=\"table table-bordered table-striped table-hover\">\n\t\t\t\t\t<tr><th>Image</th><th>Title</th><th>Category</th>\n\t\t\t\t\t\t<th>Status</th><th>Date</th><th>Action</th></tr>\n\t\t\t\t\t<tr *ngFor=\"let d of data\">\n\t\t\t\t\t\t\t<td><img [src]=\"d.image\" height=\"100px\" width=\"100px\"></td>\n\t\t\t\t\t<td>{{d.title}} <br> {{d.content}}</td>\n\t\t\t\t\t\t<td>{{d.category}}</td>\n\t\t\t\t\t\t<td>{{d.status}}</td>\n\t\t\t\t\t\t<td> {{d.date | date}}</td>\n\t\t\t\t\t\t<td *ngIf=\"d.status!='Publish'\">\n\t\t\t\t\t\t<button class=\"btn btn-success bg-success btn-sm \" (click)=\"update(d._id,'Publish')\">Publish</button></td>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<td *ngIf=\"d.status=='Publish'\">\n\t\t\t\t\t\t<button class=\"btn btn-delete bg-delete btn-sm \" (click)=\"update(d._id,'Saved')\">Un-Publish</button></td>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\n\t\t</div>\n\t</div>\n</div>","import { Component } from '@angular/core';\nimport{ArticleService} from '../../services/article.service'\nimport {Article} from '../../interface/article'\n\n\n@Component({\n  selector: 'app-articles',\n  templateUrl: './articles.component.html',\n  styleUrls: ['./articles.component.css']\n})\nexport class ArticlesComponent {\ndmsg=\"\"\n  data:any;\nconstructor(private srvc:ArticleService) { \n\nthis.srvc.getArticles().subscribe(result=>{this.data=result})\n\n}\n\n\nupdate(id:string,s:string){\n  this.srvc.updateStatus(id,{status:s}).subscribe(result=>{\n    this.dmsg=result.response;\n    if(result.st==1)\n    this.srvc.getArticles().subscribe(result=>{this.data=result})\n  \n  })\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}